/*
	jQuery Navigation Plugin
	Copyright (c) 2011 Daniel Thomson
	
	Licensed under the MIT license:
	http://www.opensource.org/licenses/mit-license.php
 */
(function(e){e.fn.navPlugin=function(t){var n=e.extend(true,{},{itemWidth:150,itemHeight:50,navEffect:"fade",speed:200},t);this.each(function(){var t=e(this);t.toprow=t.children("li");t.submenu=t.children("li.toprow").children("ul");t.stack=t.find("li:has(ul)");e.fn.navPlugin.addClasses(t);e.fn.navPlugin.addCss(t,n);e.fn.navPlugin.addTopRowEffect(t,n);e.fn.navPlugin.addSubMenuEffect(t,n)});return this};e.fn.navPlugin.addClasses=function(e){e.toprow.addClass("toprow");e.submenu.addClass("submenu");e.stack.addClass("stack")};e.fn.navPlugin.addCss=function(e,t){e.css({display:"inline"});e.find("li").css({display:"block",width:t.itemWidth+"px",height:t.itemHeight+"px","float":"left",position:"relative"});e.find("li").find("a").css({height:t.itemHeight+"px",width:t.itemWidth+"px",display:"block","line-height":t.itemHeight+"px"});e.find("li").find("ul").find("li").css({height:t.itemHeight/1.3+"px",width:t.itemWidth+10+"px",display:"block","line-height":t.itemHeight/1.3+"px"});e.find("li").find("ul").find("li").find("a").css({height:t.itemHeight/1.3+"px",width:t.itemWidth+10+"px",display:"block","line-height":t.itemHeight/1.3+"px"});e.find("li").find("ul").css({"margin-left":"0px",position:"absolute",top:"0px",left:"0px",display:"block",height:"0px",width:"0px"});e.stack.css({position:"relative"});e.stack.find("ul").css({position:"absolute",top:"0px",left:"0px"});e.toprow.css({"float":"left"});e.toprow.find("ul").css({"margin-top":t.itemHeight+"px"});e.toprow.find("ul").find("li").css({position:"relative",display:"none"});e.toprow.find("ul").find("li").find("ul").css({left:t.itemWidth+"px",top:"0px",position:"absolute","margin-top":"0px"});e.toprow.find("ul").find("li").find("ul").find("li").css({"margin-top":"0px"});e.submenu.find("li").css({display:"none"})};e.fn.navPlugin.addTopRowEffect=function(t,n){t.children("li.toprow").mouseover(function(){clearTimeout(t.timer);e(this).addClass("hover");var r=e(this).children("ul").children("li"),i=e(this).siblings("li").children("ul").children("li");if(n.navEffect=="slide"){r.slideDown(n.speed);i.slideUp(n.speed)}else{r.css("display","block");i.fadeOut(n.speed)}r.children("ul").css("display","none");return false});t.children("li.toprow").mouseout(function(){e(this).removeClass("hover");e.fn.navPlugin.setTimer(t,n);return false})};e.fn.navPlugin.addSubMenuEffect=function(t,n){t.children("li.toprow").find("li").mouseover(function(){clearTimeout(t.timer);e(this).addClass("hover");e(this).children("ul").css("display","block");var r=e(this).children("ul").children("li"),i=e(this).siblings("li").children("ul").children("li");if(n.navEffect=="slide"){r.slideDown(n.speed);i.slideUp(n.speed)}else{r.css("display","block");i.fadeOut(n.speed)}r.children("ul").css("display","none");return false});t.find("li.toprow").find("li").mouseout(function(){e(this).removeClass("hover");e.fn.navPlugin.setTimer(t,n);return false})};e.fn.navPlugin.setTimer=function(t,n){clearTimeout(t.timer);t.timer=setTimeout(function(){e.fn.navPlugin.hideNav(t,n)},500)};e.fn.navPlugin.hideNav=function(e,t){var n=e.find("li.toprow ul");if(t.navEffect=="slide"){n.children("li").slideUp(t.speed);n.children("ul").slideUp(t.speed)}else{n.children("li").fadeOut(t.speed);n.children("ul").fadeOut(t.speed)}}})(jQuery)